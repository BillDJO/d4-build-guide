<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>D4 Build Guide</title>
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="D4 Build Guide">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiRGlhYmxvIDQgQnVpbGQgR3VpZGUiLCJzaG9ydF9uYW1lIjoiRDQgQnVpbGRzIiwic3RhcnRfdXJsIjoiLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiMxYTFhMmUiLCJ0aGVtZV9jb2xvciI6IiMxYTFhMmUiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTVRJNElpQm9aV2xuYUhROUlqRXlPQ0lpSUhacFpYZENiM2c5SWpBZ01DQXhNamdnTVRJNElpQm1hV3hzUFNJalptWTJZak0xSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M00zVXViM0puTHpJd01EQXZjM1puSWo0OGNtVmpkQ0IzYVdSMGFEMGlNVEk0SWlCb1pXbG5hSFE5SWpFeU9DSWdabWxzYkQwaUkzWmpORFl6TWpJaUx6NDhkR1Y0ZENCNFBTSTJOQ0lnZVQwaU5qUWlJR1pwYkd3OUlpTm1abVptWmlJZ2RHVjRkQzFoYm1Ob2IzSTlJbTFwWkdSc1pTSWdjM1I1YkdVOUltWnZiblF0ZDJWcFoyaDBPaUZ2YkdRN1ptOXVkQzF6YVhwbE9qSXdjSGc3SWo0Z1JEUWdJSFJsZUhROElEd3ZkR1Y0ZEQ0OEwzTjJaejRnUENFdExTMHFJelptYm1kcElpMHRMVDRnUEhOMlp6QjRiV3h1Y3owanQQRERKb3ZMMmQzYkhRM1VtODM1Mnd6SXhOekZ1TG5OMlp6NEZQSGhsWm1WV1EzbzY="}]}">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f171f 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            user-select: none;
        }

        .app-container {
            min-height: 100vh;
            padding: 10px;
            padding-top: max(10px, env(safe-area-inset-top));
            padding-bottom: max(10px, env(safe-area-inset-bottom));
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 107, 53, 0.3);
        }

        .trivia-container {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 8px 12px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 107, 53, 0.2);
            font-size: clamp(0.75em, 2.5vw, 0.85em);
            line-height: 1.3;
            min-height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .trivia-label {
            color: #ffd700;
            font-weight: 700;
            flex-shrink: 0;
        }

        .trivia-text {
            color: #87ceeb;
            text-align: center;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .header h1 {
            color: #ff6b35;
            font-size: clamp(1.8em, 5vw, 2.2em);
            margin-bottom: 8px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
            font-weight: 800;
        }

        .header p {
            font-size: clamp(0.9em, 3vw, 1em);
            opacity: 0.9;
        }

        .class-tabs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
            padding: 0 5px;
        }

        .tab-button {
            padding: 18px 15px;
            background: rgba(255, 107, 53, 0.15);
            border: 2px solid #ff6b35;
            border-radius: 25px;
            color: #ff6b35;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 700;
            font-size: clamp(1em, 4vw, 1.1em);
            text-align: center;
            touch-action: manipulation;
        }

        .tab-button:active {
            transform: scale(0.95);
        }

        .tab-button.active {
            background: linear-gradient(135deg, #ff6b35, #ff8c53);
            color: white;
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
            transform: translateY(-2px);
        }

        .class-content {
            display: none;
            animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .class-content.active {
            display: block;
        }

        @keyframes slideUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .build-section {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 107, 53, 0.3);
            backdrop-filter: blur(10px);
        }

        .build-selection {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.15), rgba(255, 140, 83, 0.1));
            border: 2px solid #ff6b35;
            border-radius: 20px;
            padding: 25px 20px;
            margin-bottom: 20px;
        }

        .build-selection h3 {
            color: #ff6b35;
            margin-bottom: 20px;
            font-size: clamp(1.2em, 4vw, 1.4em);
            font-weight: 700;
            text-align: center;
        }

        .builds-grid {
            display: grid;
            gap: 10px;
        }

        .build-option {
            padding: 15px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(255, 107, 53, 0.3);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .build-option:hover {
            border-color: #ff6b35;
            background: rgba(255, 107, 53, 0.1);
        }

        .build-option.selected {
            border-color: #00ff7f;
            background: rgba(0, 255, 127, 0.15);
            box-shadow: 0 0 20px rgba(0, 255, 127, 0.3);
        }

        .build-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .build-name {
            font-weight: 700;
            font-size: 1.1em;
            color: #87ceeb;
        }

        .difficulty-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .difficulty-beginner {
            background: #4CAF50;
            color: white;
        }

        .difficulty-intermediate {
            background: #FF9800;
            color: white;
        }

        .difficulty-expert {
            background: #F44336;
            color: white;
        }

        .build-description {
            font-size: 0.9em;
            color: #b0b0b0;
            line-height: 1.4;
            margin-bottom: 10px;
        }

        .build-specialty {
            font-size: 0.85em;
            color: #ffd700;
            font-style: italic;
        }

        .level-input-section {
            background: linear-gradient(135deg, rgba(0, 255, 127, 0.15), rgba(0, 255, 127, 0.1));
            border: 2px solid #00ff7f;
            border-radius: 20px;
            padding: 25px 20px;
            margin-bottom: 20px;
            display: none;
        }

        .level-input-section.show {
            display: block;
            animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .level-input-section h4 {
            color: #00ff7f;
            margin-bottom: 20px;
            font-size: clamp(1.1em, 4vw, 1.3em);
            font-weight: 700;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .input-row {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .input-row label {
            font-weight: 700;
            color: #e0e0e0;
            font-size: 1.1em;
            min-width: fit-content;
        }

        .level-input {
            flex: 1;
            padding: 15px 20px;
            border-radius: 15px;
            border: 2px solid rgba(0, 255, 127, 0.5);
            background: rgba(0,0,0,0.4);
            color: white;
            font-size: 1.2em;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
        }

        .level-input:focus {
            outline: none;
            border-color: #00ff7f;
            box-shadow: 0 0 20px rgba(0, 255, 127, 0.3);
            background: rgba(0,0,0,0.6);
        }

        .show-build-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #00ff7f, #00cc66);
            color: black;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.2em;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 6px 20px rgba(0, 255, 127, 0.3);
            touch-action: manipulation;
        }

        .show-build-btn:active {
            transform: scale(0.98);
        }

        .skill-progression {
            display: none;
            animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .skill-progression.show {
            display: block;
        }

        .skill-tier {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 20px;
            border-left: 4px solid #00ff7f;
            backdrop-filter: blur(10px);
            margin-bottom: 20px;
        }

        .skill-tier h4 {
            color: #00ff7f;
            margin-bottom: 15px;
            font-size: clamp(1.1em, 4vw, 1.3em);
            font-weight: 700;
        }

        .skill-list {
            list-style: none;
        }

        .skill-list li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 50px;
        }

        .skill-list li:last-child {
            border-bottom: none;
        }

        .skill-name {
            font-weight: 600;
            color: #87ceeb;
            font-size: clamp(0.95em, 3.5vw, 1em);
            flex: 1;
            padding-right: 10px;
        }

        .skill-points {
            background: #ff6b35;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: clamp(0.85em, 3vw, 0.9em);
            font-weight: 700;
            min-width: fit-content;
        }

        .current-level {
            border-top: 3px solid #00ff7f !important;
            margin-top: 20px !important;
            padding-top: 20px !important;
            background: rgba(0, 255, 127, 0.1);
            border-radius: 10px;
            padding-left: 15px;
            padding-right: 15px;
        }

        .current-level .skill-points {
            background: #00ff7f !important;
            color: black !important;
            animation: pulse 2s infinite;
        }

        .next-level .skill-points {
            background: #87ceeb !important;
            color: black !important;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .endgame-notes {
            background: rgba(135, 206, 235, 0.1);
            border: 1px solid #87ceeb;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .endgame-notes h4 {
            color: #87ceeb;
            margin-bottom: 15px;
            font-size: clamp(1.1em, 4vw, 1.3em);
            font-weight: 700;
        }

        .gear-section, .synergy-box, .tips-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
        }

        .gear-section {
            border: 1px solid #ffd700;
        }

        .synergy-box {
            border: 1px solid #00ff7f;
        }

        .tips-section {
            border: 1px solid #87ceeb;
        }

        .gear-section h4 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: clamp(1.1em, 4vw, 1.3em);
            font-weight: 700;
        }

        .synergy-box h4 {
            color: #00ff7f;
            margin-bottom: 15px;
            font-size: clamp(1.1em, 4vw, 1.3em);
            font-weight: 700;
        }

        .tips-section h4 {
            color: #87ceeb;
            margin-bottom: 15px;
            font-size: clamp(1.1em, 4vw, 1.3em);
            font-weight: 700;
        }

        .gear-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .gear-item {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 12px;
            border-left: 3px solid #ffd700;
        }

        .gear-type {
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .gear-stats {
            font-size: 0.95em;
            color: #b0b0b0;
            line-height: 1.5;
        }

        .skill-header-with-nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            gap: 15px;
        }

        .skill-title-center {
            flex: 1;
            text-align: center;
            margin: 0;
            color: #00ff7f;
            font-size: clamp(1.1em, 4vw, 1.3em);
            font-weight: 700;
        }

        .nav-arrow {
            width: 45px;
            height: 45px;
            border: 2px solid #00ff7f;
            background: rgba(0, 255, 127, 0.15);
            border-radius: 50%;
            color: #00ff7f;
            font-size: 1.5em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            touch-action: manipulation;
            flex-shrink: 0;
        }

        .nav-arrow:hover:not(:disabled) {
            background: rgba(0, 255, 127, 0.3);
            border-color: #00cc66;
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 255, 127, 0.3);
        }

        .nav-arrow:active:not(:disabled) {
            transform: scale(0.95);
        }

        .nav-arrow:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            border-color: #666;
            color: #666;
            background: rgba(102, 102, 102, 0.15);
        }

        .nav-arrow span {
            line-height: 1;
            margin-top: -2px;
        }

        .synergy-box p, .tips-section p, .endgame-notes p {
            line-height: 1.6;
            margin-bottom: 10px;
            font-size: clamp(0.9em, 3.5vw, 1em);
        }

        @media (max-width: 480px) {
            .app-container {
                padding: 5px;
                padding-top: max(5px, env(safe-area-inset-top));
            }
            
            .header {
                padding: 15px 10px;
                margin-bottom: 15px;
            }
            
            .build-section {
                padding: 15px;
            }
            
            .input-row {
                flex-direction: column;
                text-align: center;
            }
            
            .input-row label {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <div class="trivia-container">
                <span class="trivia-label">💡 Trivia:</span>
                <span id="triviaText" class="trivia-text">Loading Diablo IV trivia...</span>
            </div>
            <h1>🔥 D4 Build Guide 🔥</h1>
            <p>5 Optimized Builds Per Class - Beginner to Expert</p>
        </div>

        <div class="class-tabs">
            <button class="tab-button active" onclick="showClass('druid')">🌿 Druid</button>
            <button class="tab-button" onclick="showClass('necromancer')">💀 Necromancer</button>
        </div>

        <!-- DRUID BUILDS -->
        <div id="druid" class="class-content active">
            <div class="build-section">
                <div class="build-selection">
                    <h3>🌿 Choose Your Druid Build</h3>
                    <div class="builds-grid">
                        
                        <div class="build-option selected" data-build="landslide">
                            <div class="build-header">
                                <span class="build-name">🗻 Landslide Earth</span>
                                <span class="difficulty-badge difficulty-beginner">Beginner</span>
                            </div>
                            <div class="build-description">Devastating earth magic with simple spirit management. Crush enemies with massive landslides.</div>
                            <div class="build-specialty">Specialty: High burst damage • Simple rotation • Great range • Perfect for co-op</div>
                        </div>

                        <div class="build-option" data-build="tornado">
                            <div class="build-header">
                                <span class="build-name">🌪️ Tornado Storm</span>
                                <span class="difficulty-badge difficulty-beginner">Beginner</span>
                            </div>
                            <div class="build-description">Chain lightning and tornadoes clear entire screens. Mobile storm caster.</div>
                            <div class="build-specialty">Specialty: Area clearing • High mobility • Elemental mastery • Dungeon specialist</div>
                        </div>

                        <div class="build-option" data-build="werewolf">
                            <div class="build-header">
                                <span class="build-name">🐺 Werewolf Fury</span>
                                <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                            </div>
                            <div class="build-description">Savage melee combat with powerful shred attacks. Transform and dominate.</div>
                            <div class="build-specialty">Specialty: Melee powerhouse • Shape-shifting • High sustain • Boss killer</div>
                        </div>

                        <div class="build-option" data-build="poison">
                            <div class="build-header">
                                <span class="build-name">☠️ Poison Creeper</span>
                                <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                            </div>
                            <div class="build-description">Damage over time with nature's companions. Poison creepers and deadly toxins.</div>
                            <div class="build-specialty">Specialty: DoT mastery • Companion synergy • Area denial • Nature magic</div>
                        </div>

                        <div class="build-option" data-build="lightning">
                            <div class="build-header">
                                <span class="build-name">⚡ Lightning Storm</span>
                                <span class="difficulty-badge difficulty-expert">Expert</span>
                            </div>
                            <div class="build-description">Channeled lightning devastation with shapeshifting synergy. Master of storm and claw.</div>
                            <div class="build-specialty">Specialty: Channeled damage • Shapeshifting synergy • High mobility • Endgame beast</div>
                        </div>

                    </div>
                </div>

                <div id="druidLevelSection" class="level-input-section show">
                    <h4>🎯 Enter Your Current Level</h4>
                    <div class="input-group">
                        <div class="input-row">
                            <label for="druidLevel">Current Level:</label>
                            <input type="number" id="druidLevel" class="level-input" min="1" max="50" placeholder="15">
                        </div>
                        <button class="show-build-btn" onclick="showDruidSkills()">
                            Show My Build 🎯
                        </button>
                    </div>
                </div>

                <div id="druidSkillDisplay" class="skill-progression">
                    <div class="skill-tier">
                        <div class="skill-header-with-nav">
                            <button class="nav-arrow nav-arrow-left" id="druidPrevLevel" onclick="changeLevel('druid', -1)">
                                <span>←</span>
                            </button>
                            <h4 id="druidSkillTitle" class="skill-title-center">📋 Your Skill Allocation</h4>
                            <button class="nav-arrow nav-arrow-right" id="druidNextLevel" onclick="changeLevel('druid', 1)">
                                <span>→</span>
                            </button>
                        </div>
                        <ul id="druidSkillList" class="skill-list">
                            <!-- Skills will be populated by JavaScript -->
                        </ul>
                    </div>
                    
                    <div id="druidEndgameNotes" class="endgame-notes">
                        <h4>🏆 Levels 36-50 Priority</h4>
                        <p id="druidEndgameText">Endgame progression notes will appear here.</p>
                    </div>
                </div>

                <div id="druidBuildInfo" class="build-info">
                    <!-- Build-specific info will be populated here -->
                </div>
            </div>
        </div>

        <!-- NECROMANCER BUILDS -->
        <div id="necromancer" class="class-content">
            <div class="build-section">
                <div class="build-selection">
                    <h3>💀 Choose Your Necromancer Build</h3>
                    <div class="builds-grid">
                        
                        <div class="build-option selected" data-build="bloodsurge">
                            <div class="build-header">
                                <span class="build-name">🩸 Blood Surge</span>
                                <span class="difficulty-badge difficulty-beginner">Beginner</span>
                            </div>
                            <div class="build-description">Blood magic with excellent sustain. Create corpses, consume them for massive damage.</div>
                            <div class="build-specialty">Specialty: Self-healing • Overpower damage • Corpse synergy • Tank and spank</div>
                        </div>

                        <div class="build-option" data-build="bonespear">
                            <div class="build-header">
                                <span class="build-name">🦴 Bone Spear</span>
                                <span class="difficulty-badge difficulty-beginner">Beginner</span>
                            </div>
                            <div class="build-description">Ranged caster that stays safe while dealing consistent piercing damage from distance.</div>
                            <div class="build-specialty">Specialty: Safe ranged combat • Piercing projectiles • Essence efficient • Kiting master</div>
                        </div>

                        <div class="build-option" data-build="army">
                            <div class="build-header">
                                <span class="build-name">👥 Army of the Dead</span>
                                <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                            </div>
                            <div class="build-description">Minion master with skeletons and mages that fight alongside you. Ultimate team player.</div>
                            <div class="build-specialty">Specialty: Minion army • Excellent co-op support • Crowd control • Summoner fantasy</div>
                        </div>

                        <div class="build-option" data-build="corpseexplosion">
                            <div class="build-header">
                                <span class="build-name">💥 Corpse Explosion</span>
                                <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                            </div>
                            <div class="build-description">Chain explosions that devastate groups. Turn enemy deaths into massive damage.</div>
                            <div class="build-specialty">Specialty: Area damage specialist • Chain reactions • Corpse management • Group destroyer</div>
                        </div>

                        <div class="build-option" data-build="boneprison">
                            <div class="build-header">
                                <span class="build-name">🏴‍☠️ Bone Prison Control</span>
                                <span class="difficulty-badge difficulty-expert">Expert</span>
                            </div>
                            <div class="build-description">Master of crowd control with complex timing. Lock down enemies while allies obliterate.</div>
                            <div class="build-specialty">Specialty: Ultimate crowd control • Complex timing • Team coordination • Controller</div>
                        </div>

                    </div>
                </div>

                <div id="necroLevelSection" class="level-input-section show">
                    <h4>🎯 Enter Your Current Level</h4>
                    <div class="input-group">
                        <div class="input-row">
                            <label for="necroLevel">Current Level:</label>
                            <input type="number" id="necroLevel" class="level-input" min="1" max="50" placeholder="15">
                        </div>
                        <button class="show-build-btn" onclick="showNecroSkills()">
                            Show My Build 🎯
                        </button>
                    </div>
                </div>

                <div id="necroSkillDisplay" class="skill-progression">
                    <div class="skill-tier">
                        <div class="skill-header-with-nav">
                            <button class="nav-arrow nav-arrow-left" id="necroPrevLevel" onclick="changeLevel('necro', -1)">
                                <span>←</span>
                            </button>
                            <h4 id="necroSkillTitle" class="skill-title-center">📋 Your Skill Allocation</h4>
                            <button class="nav-arrow nav-arrow-right" id="necroNextLevel" onclick="changeLevel('necro', 1)">
                                <span>→</span>
                            </button>
                        </div>
                        <ul id="necroSkillList" class="skill-list">
                            <!-- Skills will be populated by JavaScript -->
                        </ul>
                    </div>
                    
                    <div id="necroEndgameNotes" class="endgame-notes">
                        <h4>🏆 Levels 36-50 Priority</h4>
                        <p id="necroEndgameText">Endgame progression notes will appear here.</p>
                    </div>
                </div>

                <div id="necroBuildInfo" class="build-info">
                    <!-- Build-specific info will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Diablo IV Trivia Facts
        const triviaFacts = [
            "Diablo IV's map is 5x larger than Diablo III, making it the biggest Diablo world ever created!",
            "The game features over 150 dungeons, each with unique layouts that change every time you enter.",
            "Lilith, the main antagonist, is actually the daughter of Mephisto and mother of humanity in Diablo lore.",
            "Players can find and ride horses in Diablo IV - a first for the franchise!",
            "The game's skill tree system allows for over 1 trillion different character build combinations.",
            "Diablo IV took over 6 years to develop and had multiple complete rewrites during production.",
            "The Necromancer's Book of the Dead was inspired by actual medieval grimoires and occult texts.",
            "Sanctuary (the game world) exists between Heaven and Hell, making it a neutral battleground.",
            "The game features dynamic weather that actually affects gameplay, not just visuals.",
            "Diablo IV's engine can render up to 100 enemies on screen simultaneously without frame drops.",
            "The Barbarian's Arsenal system lets you see all 4 equipped weapons on their back and hips.",
            "Tree of Whispers is based on Yggdrasil from Norse mythology, the World Tree.",
            "Each class has unique dismount attacks when jumping off your horse in combat.",
            "The game's day/night cycle affects which events and monsters appear in the world.",
            "Diablo IV features the largest voice acting cast in Blizzard's history with over 300 actors.",
            "The Sorcerer class was almost called 'Sorceress' but was changed to be gender-neutral.",
            "Hardcore characters have a special graveyard where you can mourn your fallen heroes.",
            "The game's audio uses spatial 3D sound - demons approaching from behind sound different than front.",
            "Diablo IV's randomized dungeons use an algorithm that ensures no two runs feel identical.",
            "The Druid's shapeshifting was completely rebuilt from scratch using new animation technology.",
            "World Tier difficulty affects not just monster strength, but also completely changes loot tables.",
            "The game features over 1000 different legendary item powers, more than any previous Diablo game.",
            "Strongholds permanently change the world map when conquered, affecting all players on the server.",
            "The Rogue's combo point system was inspired by classic MMO rogue mechanics but redesigned for ARPG combat.",
            "Diablo IV's PvP zones use a unique 'Hatred' currency that can only be earned by killing other players.",
            "The game's seasons introduce completely new mechanics, not just balance changes.",
            "World bosses require 12 players minimum but can support up to 20 for epic battles.",
            "The Crusader class was planned for launch but delayed to ensure proper balance with other classes.",
            "Diablo IV's graphics engine supports real-time ray tracing on high-end systems.",
            "The game features cross-progression - your character follows you across PC, PlayStation, and Xbox.",
            "Treasure Goblins have 15 different variants, each dropping completely different types of loot.",
            "The Wanderer (your character) is canonically the same person across all 5 classes - they just chose different paths.",
            "Diablo IV's skill tooltips show exact damage numbers instead of vague descriptions for the first time.",
            "The game's weather system includes 12 different weather types that can stack and combine.",
            "Malignant Hearts were originally going to be permanent additions but were made seasonal for balance."
        ];

        let currentTriviaIndex = 0;
        let triviaInterval;

        // Initialize trivia rotation
        function initTrivia() {
            const triviaElement = document.getElementById('triviaText');
            if (triviaElement) {
                // Show first trivia immediately
                triviaElement.textContent = triviaFacts[0];
                
                // Start rotation
                triviaInterval = setInterval(() => {
                    currentTriviaIndex = (currentTriviaIndex + 1) % triviaFacts.length;
                    triviaElement.style.animation = 'none';
                    setTimeout(() => {
                        triviaElement.textContent = triviaFacts[currentTriviaIndex];
                        triviaElement.style.animation = 'fadeIn 0.5s ease-in-out';
                    }, 50);
                }, 8000); // Change every 8 seconds
            }
        }

        // Navigation system for level changes
        function changeLevel(classPrefix, direction) {
            const levelInput = document.getElementById(`${classPrefix === 'druid' ? 'druid' : 'necro'}Level`);
            const currentLevel = parseInt(levelInput.value) || 1;
            const newLevel = Math.max(1, Math.min(50, currentLevel + direction));
            
            if (newLevel !== currentLevel) {
                levelInput.value = newLevel;
                if (classPrefix === 'druid') {
                    showDruidSkills();
                } else {
                    showNecroSkills();
                }
            }
        }

        // Update navigation arrows based on current level
        function updateNavigationArrows(classPrefix, level) {
            const prevButton = document.getElementById(`${classPrefix}PrevLevel`);
            const nextButton = document.getElementById(`${classPrefix}NextLevel`);
            
            if (prevButton) {
                prevButton.disabled = level <= 1;
            }
            if (nextButton) {
                nextButton.disabled = level >= 50;
            }
        }
        // Complete build skill data with corrected skill trees
        const buildData = {
            druid: {
                landslide: {
                    skills: [
                        { level: 1, skill: "Earth Spike", points: "1/5" },
                        { level: 2, skill: "Earth Spike", points: "2/5" },
                        { level: 3, skill: "Earth Spike", points: "3/5" },
                        { level: 4, skill: "Landslide", points: "1/5" },
                        { level: 5, skill: "Landslide", points: "2/5" },
                        { level: 6, skill: "Earth Spike", points: "4/5" },
                        { level: 7, skill: "Earth Spike", points: "5/5" },
                        { level: 8, skill: "Enhanced Earth Spike", points: "1/1" },
                        { level: 9, skill: "Landslide", points: "3/5" },
                        { level: 10, skill: "Landslide", points: "4/5" },
                        { level: 11, skill: "Landslide", points: "5/5" },
                        { level: 12, skill: "Enhanced Landslide", points: "1/1" },
                        { level: 13, skill: "Primal Landslide", points: "1/1" },
                        { level: 14, skill: "Earthen Bulwark", points: "1/1" },
                        { level: 15, skill: "Enhanced Earthen Bulwark", points: "1/1" },
                        { level: 16, skill: "Cyclone Armor", points: "1/1" },
                        { level: 17, skill: "Enhanced Cyclone Armor", points: "1/1" },
                        { level: 18, skill: "Elemental Exposure", points: "1/3" },
                        { level: 19, skill: "Elemental Exposure", points: "2/3" },
                        { level: 20, skill: "Elemental Exposure", points: "3/3" },
                        { level: 21, skill: "Heart of the Wild", points: "1/3" },
                        { level: 22, skill: "Heart of the Wild", points: "2/3" },
                        { level: 23, skill: "Heart of the Wild", points: "3/3" },
                        { level: 24, skill: "Wild Impulses", points: "1/3" },
                        { level: 25, skill: "Wild Impulses", points: "2/3" },
                        { level: 26, skill: "Wild Impulses", points: "3/3" },
                        { level: 27, skill: "Abundance", points: "1/3" },
                        { level: 28, skill: "Abundance", points: "2/3" },
                        { level: 29, skill: "Abundance", points: "3/3" },
                        { level: 30, skill: "Crushing Earth", points: "1/3" },
                        { level: 31, skill: "Cataclysm", points: "1/1" },
                        { level: 32, skill: "Enhanced Cataclysm", points: "1/1" },
                        { level: 33, skill: "Supreme Cataclysm", points: "1/1" },
                        { level: 34, skill: "Crushing Earth", points: "2/3" },
                        { level: 35, skill: "Crushing Earth", points: "3/3" }
                    ],
                    endgame: "Complete Stone Guard (3/3) → Safeguard (3/3) → Natural Fortitude (3/3). Focus on defensive passives and earth damage amplifiers for high-level content.",
                    info: {
                        synergies: "Earth Spike builds Spirit and can stun → Landslide consumes Spirit for massive AoE damage with Terramote stacks. Earthen Bulwark provides defense while Cyclone Armor adds elemental protection. Cataclysm devastates groups and provides damage multipliers.",
                        gear: {
                            weapon: "Two-handed staff • +Damage to Landslide • Earth Skill damage • Willpower • Critical Hit Damage • Spirit Cost Reduction",
                            armor: "Maximum Life • Damage Reduction • +Ranks to Earth Skills • All Resistances • Fortify Generation • +Ranks to Landslide",
                            jewelry: "Critical Hit Chance • Critical Hit Damage • Spirit Generation • Maximum Spirit • Earth Damage • Overpower Damage"
                        },
                        tips: "Use Earth Spike to build Spirit and create Terramotes → Cast Landslide for guaranteed crits → Position carefully for maximum AoE impact • Earthen Bulwark before engaging tough enemies • Great for clearing groups while Necromancer handles single targets • Primal Landslide makes enemies drop guaranteed crits"
                    }
                },
                tornado: {
                    skills: [
                        { level: 1, skill: "Storm Strike", points: "1/5" },
                        { level: 2, skill: "Storm Strike", points: "2/5" },
                        { level: 3, skill: "Storm Strike", points: "3/5" },
                        { level: 4, skill: "Tornado", points: "1/5" },
                        { level: 5, skill: "Tornado", points: "2/5" },
                        { level: 6, skill: "Storm Strike", points: "4/5" },
                        { level: 7, skill: "Storm Strike", points: "5/5" },
                        { level: 8, skill: "Enhanced Storm Strike", points: "1/1" },
                        { level: 9, skill: "Tornado", points: "3/5" },
                        { level: 10, skill: "Tornado", points: "4/5" },
                        { level: 11, skill: "Tornado", points: "5/5" },
                        { level: 12, skill: "Enhanced Tornado", points: "1/1" },
                        { level: 13, skill: "Primal Tornado", points: "1/1" },
                        { level: 14, skill: "Lightning Storm", points: "1/5" },
                        { level: 15, skill: "Lightning Storm", points: "2/5" },
                        { level: 16, skill: "Cyclone Armor", points: "1/1" },
                        { level: 17, skill: "Enhanced Cyclone Armor", points: "1/1" },
                        { level: 18, skill: "Lightning Storm", points: "3/5" },
                        { level: 19, skill: "Lightning Storm", points: "4/5" },
                        { level: 20, skill: "Lightning Storm", points: "5/5" },
                        { level: 21, skill: "Enhanced Lightning Storm", points: "1/1" },
                        { level: 22, skill: "Elemental Exposure", points: "1/3" },
                        { level: 23, skill: "Elemental Exposure", points: "2/3" },
                        { level: 24, skill: "Elemental Exposure", points: "3/3" },
                        { level: 25, skill: "Endless Tempest", points: "1/3" },
                        { level: 26, skill: "Endless Tempest", points: "2/3" },
                        { level: 27, skill: "Endless Tempest", points: "3/3" },
                        { level: 28, skill: "Bad Omen", points: "1/3" },
                        { level: 29, skill: "Bad Omen", points: "2/3" },
                        { level: 30, skill: "Bad Omen", points: "3/3" },
                        { level: 31, skill: "Hurricane", points: "1/1" },
                        { level: 32, skill: "Enhanced Hurricane", points: "1/1" },
                        { level: 33, skill: "Supreme Hurricane", points: "1/1" },
                        { level: 34, skill: "Electric Shock", points: "1/3" },
                        { level: 35, skill: "Electric Shock", points: "2/3" }
                    ],
                    endgame: "Complete Electric Shock (3/3) → Charged Atmosphere (3/3) → Perfect Storm (3/3). Focus on storm synergies and movement speed for maximum mobility and damage.",
                    info: {
                        synergies: "Storm Strike generates Spirit and chains lightning → Tornado creates wandering damage that seeks enemies → Lightning Storm creates additional area coverage → Hurricane provides massive storm coverage. High mobility with constant elemental damage.",
                        gear: {
                            weapon: "Staff or Wand • +Damage to Storm Skills • Lightning Damage • Critical Hit Chance • Movement Speed • Spirit Cost Reduction",
                            armor: "Maximum Life • Storm Skill ranks • Lightning Resistance • Movement Speed • Spirit Cost Reduction • +Ranks to Tornado",
                            jewelry: "Critical Hit Chance • Lightning Damage • Attack Speed • Movement Speed • Spirit Generation • Storm Damage"
                        },
                        tips: "Stay mobile and kite enemies • Use Storm Strike to build Spirit and apply Vulnerable • Cast Tornado to control battlefield • Lightning Storm for additional coverage • Great for clearing dungeons while Necromancer handles single targets • Hurricane devastates large groups"
                    }
                },
                werewolf: {
                    skills: [
                        { level: 1, skill: "Claw", points: "1/5" },
                        { level: 2, skill: "Claw", points: "2/5" },
                        { level: 3, skill: "Claw", points: "3/5" },
                        { level: 4, skill: "Shred", points: "1/5" },
                        { level: 5, skill: "Shred", points: "2/5" },
                        { level: 6, skill: "Claw", points: "4/5" },
                        { level: 7, skill: "Claw", points: "5/5" },
                        { level: 8, skill: "Enhanced Claw", points: "1/1" },
                        { level: 9, skill: "Shred", points: "3/5" },
                        { level: 10, skill: "Shred", points: "4/5" },
                        { level: 11, skill: "Shred", points: "5/5" },
                        { level: 12, skill: "Enhanced Shred", points: "1/1" },
                        { level: 13, skill: "Primal Shred", points: "1/1" },
                        { level: 14, skill: "Blood Howl", points: "1/1" },
                        { level: 15, skill: "Enhanced Blood Howl", points: "1/1" },
                        { level: 16, skill: "Wolves", points: "1/1" },
                        { level: 17, skill: "Enhanced Wolves", points: "1/1" },
                        { level: 18, skill: "Predatory Instinct", points: "1/3" },
                        { level: 19, skill: "Predatory Instinct", points: "2/3" },
                        { level: 20, skill: "Predatory Instinct", points: "3/3" },
                        { level: 21, skill: "Iron Fur", points: "1/3" },
                        { level: 22, skill: "Iron Fur", points: "2/3" },
                        { level: 23, skill: "Iron Fur", points: "3/3" },
                        { level: 24, skill: "Lycanthrope's Power", points: "1/3" },
                        { level: 25, skill: "Lycanthrope's Power", points: "2/3" },
                        { level: 26, skill: "Lycanthrope's Power", points: "3/3" },
                        { level: 27, skill: "Envenom", points: "1/3" },
                        { level: 28, skill: "Envenom", points: "2/3" },
                        { level: 29, skill: "Envenom", points: "3/3" },
                        { level: 30, skill: "Toxic Claws", points: "1/3" },
                        { level: 31, skill: "Grizzly Rage", points: "1/1" },
                        { level: 32, skill: "Enhanced Grizzly Rage", points: "1/1" },
                        { level: 33, skill: "Supreme Grizzly Rage", points: "1/1" },
                        { level: 34, skill: "Toxic Claws", points: "2/3" },
                        { level: 35, skill: "Toxic Claws", points: "3/3" }
                    ],
                    endgame: "Complete Neurotoxin (3/3) → Shapeshifting Mastery (3/3) → Ursine Strength (3/3). Focus on shape-shifting synergies and poison enhancement for maximum DPS.",
                    info: {
                        synergies: "Claw builds Fury in werewolf form → Shred spends Fury for bleeding damage with dash mechanics → Blood Howl heals and enhances damage → Wolves provide additional DPS and utility. Transform into ultimate predator with poison synergy.",
                        gear: {
                            weapon: "Claws or One-handed • +Damage to Shred • Shapeshifting Skills • Critical Hit Damage • Attack Speed • Poison Damage",
                            armor: "Maximum Life • +Ranks to Shapeshifting • Physical Damage • Damage Reduction • Fury Generation • +Ranks to Werewolf Skills",
                            jewelry: "Critical Hit Chance • Critical Hit Damage • Attack Speed • Maximum Fury • Poison Damage • Shapeshifting Damage"
                        },
                        tips: "Maintain werewolf form in combat • Use Claw to build Fury, Shred to spend it with dash combos • Blood Howl for emergency healing and damage buff • Wolves help with crowd control • Great melee complement to Necromancer's ranged style • Poison synergy scales incredibly well"
                    }
                },
                poison: {
                    skills: [
                        { level: 1, skill: "Earth Spike", points: "1/5" },
                        { level: 2, skill: "Earth Spike", points: "2/5" },
                        { level: 3, skill: "Earth Spike", points: "3/5" },
                        { level: 4, skill: "Poison Creeper", points: "1/1" },
                        { level: 5, skill: "Enhanced Poison Creeper", points: "1/1" },
                        { level: 6, skill: "Earth Spike", points: "4/5" },
                        { level: 7, skill: "Earth Spike", points: "5/5" },
                        { level: 8, skill: "Enhanced Earth Spike", points: "1/1" },
                        { level: 9, skill: "Landslide", points: "1/5" },
                        { level: 10, skill: "Landslide", points: "2/5" },
                        { level: 11, skill: "Landslide", points: "3/5" },
                        { level: 12, skill: "Enhanced Landslide", points: "1/1" },
                        { level: 13, skill: "Ravens", points: "1/1" },
                        { level: 14, skill: "Enhanced Ravens", points: "1/1" },
                        { level: 15, skill: "Earthen Bulwark", points: "1/1" },
                        { level: 16, skill: "Enhanced Earthen Bulwark", points: "1/1" },
                        { level: 17, skill: "Landslide", points: "4/5" },
                        { level: 18, skill: "Landslide", points: "5/5" },
                        { level: 19, skill: "Elemental Exposure", points: "1/3" },
                        { level: 20, skill: "Elemental Exposure", points: "2/3" },
                        { level: 21, skill: "Elemental Exposure", points: "3/3" },
                        { level: 22, skill: "Nature's Reach", points: "1/3" },
                        { level: 23, skill: "Nature's Reach", points: "2/3" },
                        { level: 24, skill: "Nature's Reach", points: "3/3" },
                        { level: 25, skill: "Envenom", points: "1/3" },
                        { level: 26, skill: "Envenom", points: "2/3" },
                        { level: 27, skill: "Envenom", points: "3/3" },
                        { level: 28, skill: "Toxic Claws", points: "1/3" },
                        { level: 29, skill: "Toxic Claws", points: "2/3" },
                        { level: 30, skill: "Toxic Claws", points: "3/3" },
                        { level: 31, skill: "Petrify", points: "1/1" },
                        { level: 32, skill: "Enhanced Petrify", points: "1/1" },
                        { level: 33, skill: "Supreme Petrify", points: "1/1" },
                        { level: 34, skill: "Neurotoxin", points: "1/3" },
                        { level: 35, skill: "Neurotoxin", points: "2/3" }
                    ],
                    endgame: "Complete Neurotoxin (3/3) → One With Nature (3/3) → Shepherd's (3/3). Focus on companion synergies and poison amplification for devastating DoT damage.",
                    info: {
                        synergies: "Earth Spike builds Spirit → Poison Creeper immobilizes and poisons → Landslide triggers Subterranean aspect for more creepers → Ravens apply Vulnerable and poison. Perfect DoT synergy with nature companions.",
                        gear: {
                            weapon: "Staff • +Damage to Poison Creeper • Earth Skills • Companion Skills • Poison Damage • Spirit Cost Reduction",
                            armor: "Maximum Life • +Ranks to Companion Skills • Poison Damage • Damage Reduction • +Ranks to Poison Creeper",
                            jewelry: "Critical Hit Chance • Poison Damage • Companion Damage • Spirit Generation • Vulnerable Damage • Critical Hit Damage"
                        },
                        tips: "Cast Poison Creeper first to immobilize groups → Follow with Landslide for Subterranean triggers → Ravens apply Vulnerable before big damage • Petrify for crowd control and Spirit recovery • Great area denial while Necromancer sets up combos"
                    }
                },
                lightning: {
                    skills: [
                        { level: 1, skill: "Storm Strike", points: "1/5" },
                        { level: 2, skill: "Storm Strike", points: "2/5" },
                        { level: 3, skill: "Storm Strike", points: "3/5" },
                        { level: 4, skill: "Lightning Storm", points: "1/5" },
                        { level: 5, skill: "Lightning Storm", points: "2/5" },
                        { level: 6, skill: "Storm Strike", points: "4/5" },
                        { level: 7, skill: "Storm Strike", points: "5/5" },
                        { level: 8, skill: "Enhanced Storm Strike", points: "1/1" },
                        { level: 9, skill: "Lightning Storm", points: "3/5" },
                        { level: 10, skill: "Lightning Storm", points: "4/5" },
                        { level: 11, skill: "Lightning Storm", points: "5/5" },
                        { level: 12, skill: "Enhanced Lightning Storm", points: "1/1" },
                        { level: 13, skill: "Primal Lightning Storm", points: "1/1" },
                        { level: 14, skill: "Claw", points: "1/5" },
                        { level: 15, skill: "Claw", points: "2/5" },
                        { level: 16, skill: "Enhanced Claw", points: "1/1" },
                        { level: 17, skill: "Blood Howl", points: "1/1" },
                        { level: 18, skill: "Enhanced Blood Howl", points: "1/1" },
                        { level: 19, skill: "Cyclone Armor", points: "1/1" },
                        { level: 20, skill: "Enhanced Cyclone Armor", points: "1/1" },
                        { level: 21, skill: "Elemental Exposure", points: "1/3" },
                        { level: 22, skill: "Elemental Exposure", points: "2/3" },
                        { level: 23, skill: "Elemental Exposure", points: "3/3" },
                        { level: 24, skill: "Endless Tempest", points: "1/3" },
                        { level: 25, skill: "Endless Tempest", points: "2/3" },
                        { level: 26, skill: "Endless Tempest", points: "3/3" },
                        { level: 27, skill: "Quickshift", points: "1/3" },
                        { level: 28, skill: "Quickshift", points: "2/3" },
                        { level: 29, skill: "Quickshift", points: "3/3" },
                        { level: 30, skill: "Feral Aptitude", points: "1/3" },
                        { level: 31, skill: "Cataclysm", points: "1/1" },
                        { level: 32, skill: "Enhanced Cataclysm", points: "1/1" },
                        { level: 33, skill: "Supreme Cataclysm", points: "1/1" },
                        { level: 34, skill: "Feral Aptitude", points: "2/3" },
                        { level: 35, skill: "Feral Aptitude", points: "3/3" }
                    ],
                    endgame: "Complete Bestial Rampage key passive → Focus on Tempest Roar unique → Unsung Ascetic's Wraps → Maximize shapeshifting and storm synergies for ultimate endgame power.",
                    info: {
                        synergies: "Storm Strike builds Spirit → Lightning Storm channels for massive area damage → Claw provides Werewolf form → Tempest Roar makes Lightning Storm a Werewolf skill → Bestial Rampage amplifies both forms. Complex but devastatingly powerful.",
                        gear: {
                            weapon: "Staff • +Damage to Lightning Storm • Storm Skills • Shapeshifting Skills • Critical Hit Damage • Spirit Cost Reduction",
                            armor: "Tempest Roar (Required) • Unsung Ascetic's Wraps • Maximum Life • +Ranks to Storm Skills • Attack Speed • Movement Speed",
                            jewelry: "Critical Hit Chance • Lightning Damage • Shapeshifting Damage • Spirit Generation • Attack Speed • Maximum Spirit"
                        },
                        tips: "Requires Tempest Roar unique helmet to function • Channel Lightning Storm for main damage • Use Claw to maintain Werewolf form • Storm Strike for Spirit and chaining • Most complex but highest potential build • Perfect for experienced players who want maximum power"
                    }
                }
            },
            necromancer: {
                bloodsurge: {
                    skills: [
                        { level: 1, skill: "Decompose", points: "1/5" },
                        { level: 2, skill: "Decompose", points: "2/5" },
                        { level: 3, skill: "Decompose", points: "3/5" },
                        { level: 4, skill: "Blood Surge", points: "1/5" },
                        { level: 5, skill: "Blood Surge", points: "2/5" },
                        { level: 6, skill: "Decompose", points: "4/5" },
                        { level: 7, skill: "Decompose", points: "5/5" },
                        { level: 8, skill: "Enhanced Decompose", points: "1/1" },
                        { level: 9, skill: "Blood Surge", points: "3/5" },
                        { level: 10, skill: "Blood Surge", points: "4/5" },
                        { level: 11, skill: "Blood Surge", points: "5/5" },
                        { level: 12, skill: "Enhanced Blood Surge", points: "1/1" },
                        { level: 13, skill: "Supernatural Blood Surge", points: "1/1" },
                        { level: 14, skill: "Blood Mist", points: "1/1" },
                        { level: 15, skill: "Enhanced Blood Mist", points: "1/1" },
                        { level: 16, skill: "Corpse Explosion", points: "1/5" },
                        { level: 17, skill: "Corpse Explosion", points: "2/5" },
                        { level: 18, skill: "Corpse Explosion", points: "3/5" },
                        { level: 19, skill: "Corpse Explosion", points: "4/5" },
                        { level: 20, skill: "Corpse Explosion", points: "5/5" },
                        { level: 21, skill: "Enhanced Corpse Explosion", points: "1/1" },
                        { level: 22, skill: "Bone Armor", points: "1/1" },
                        { level: 23, skill: "Enhanced Bone Armor", points: "1/1" },
                        { level: 24, skill: "Grim Harvest", points: "1/3" },
                        { level: 25, skill: "Grim Harvest", points: "2/3" },
                        { level: 26, skill: "Grim Harvest", points: "3/3" },
                        { level: 27, skill: "Fueled by Death", points: "1/3" },
                        { level: 28, skill: "Fueled by Death", points: "2/3" },
                        { level: 29, skill: "Fueled by Death", points: "3/3" },
                        { level: 30, skill: "Death's Approach", points: "1/3" },
                        { level: 31, skill: "Army of the Dead", points: "1/1" },
                        { level: 32, skill: "Enhanced Army of the Dead", points: "1/1" },
                        { level: 33, skill: "Supreme Army of the Dead", points: "1/1" },
                        { level: 34, skill: "Death's Approach", points: "2/3" },
                        { level: 35, skill: "Death's Approach", points: "3/3" }
                    ],
                    endgame: "Complete remaining blood passives → Corpse Tendrils for utility → Focus on Cruor's Embrace unique and legendary aspects that enhance blood skills and overpower damage.",
                    info: {
                        synergies: "Decompose creates corpses and generates Essence → Blood Surge consumes corpses for massive Overpower damage and healing. Corpse Explosion chains damage. Army of the Dead provides ultimate crowd control. Perfect sustain support for Druid's aggressive playstyle.",
                        gear: {
                            weapon: "Two-handed Scythe • +Damage to Blood Surge • Core Skill damage • Intelligence • Maximum Life • Overpower Damage",
                            armor: "Cruor's Embrace (Recommended) • Maximum Life • +Ranks to Blood Surge • +Ranks to Corpse Skills • Damage Reduction • Fortify Generation",
                            jewelry: "Critical Hit Chance • Maximum Life • Overpower Damage • Essence Generation • Blood Skill Damage • Critical Hit Damage"
                        },
                        tips: "Maintain Bone Armor always • Use Decompose to create corpses • Blood Surge heals you and deals Overpower damage • Blood Mist is your escape • Focus on Maximum Life for Overpower scaling • Great sustain support for Druid's melee builds"
                    }
                },
                bonespear: {
                    skills: [
                        { level: 1, skill: "Bone Splinters", points: "1/5" },
                        { level: 2, skill: "Bone Splinters", points: "2/5" },
                        { level: 3, skill: "Bone Splinters", points: "3/5" },
                        { level: 4, skill: "Bone Spear", points: "1/5" },
                        { level: 5, skill: "Bone Spear", points: "2/5" },
                        { level: 6, skill: "Bone Splinters", points: "4/5" },
                        { level: 7, skill: "Bone Splinters", points: "5/5" },
                        { level: 8, skill: "Enhanced Bone Splinters", points: "1/1" },
                        { level: 9, skill: "Bone Spear", points: "3/5" },
                        { level: 10, skill: "Bone Spear", points: "4/5" },
                        { level: 11, skill: "Bone Spear", points: "5/5" },
                        { level: 12, skill: "Enhanced Bone Spear", points: "1/1" },
                        { level: 13, skill: "Supernatural Bone Spear", points: "1/1" },
                        { level: 14, skill: "Bone Armor", points: "1/1" },
                        { level: 15, skill: "Enhanced Bone Armor", points: "1/1" },
                        { level: 16, skill: "Bone Prison", points: "1/5" },
                        { level: 17, skill: "Bone Prison", points: "2/5" },
                        { level: 18, skill: "Bone Prison", points: "3/5" },
                        { level: 19, skill: "Bone Prison", points: "4/5" },
                        { level: 20, skill: "Bone Prison", points: "5/5" },
                        { level: 21, skill: "Enhanced Bone Prison", points: "1/1" },
                        { level: 22, skill: "Corpse Tendrils", points: "1/1" },
                        { level: 23, skill: "Enhanced Corpse Tendrils", points: "1/1" },
                        { level: 24, skill: "Serration", points: "1/3" },
                        { level: 25, skill: "Serration", points: "2/3" },
                        { level: 26, skill: "Serration", points: "3/3" },
                        { level: 27, skill: "Compound Fracture", points: "1/3" },
                        { level: 28, skill: "Compound Fracture", points: "2/3" },
                        { level: 29, skill: "Compound Fracture", points: "3/3" },
                        { level: 30, skill: "Evulsion", points: "1/3" },
                        { level: 31, skill: "Bone Storm", points: "1/1" },
                        { level: 32, skill: "Enhanced Bone Storm", points: "1/1" },
                        { level: 33, skill: "Supreme Bone Storm", points: "1/1" },
                        { level: 34, skill: "Evulsion", points: "2/3" },
                        { level: 35, skill: "Evulsion", points: "3/3" }
                    ],
                    endgame: "Complete Ossified Essence (3/3) → Bone Mastery (3/3) → Focus on piercing aspects and bone skill amplification for maximum ranged damage potential.",
                    info: {
                        synergies: "Bone Splinters generate Essence and pierce → Bone Spear pierces through all enemies → Bone Prison traps and makes Vulnerable → Corpse Tendrils group enemies for spear piercing → Bone Storm ultimate devastation.",
                        gear: {
                            weapon: "Wand + Focus • +Damage to Bone Spear • Bone Skill damage • Intelligence • Critical Hit Damage • Essence Cost Reduction",
                            armor: "Maximum Life • +Ranks to Bone Spear • +Ranks to Bone Skills • Damage Reduction • Essence Generation • Lucky Hit Chance",
                            jewelry: "Critical Hit Chance • Critical Hit Damage • Vulnerable Damage • Essence Generation • Bone Damage • Piercing Damage"
                        },
                        tips: "Stay at range and kite enemies • Use Bone Splinters to build Essence • Bone Prison to trap and make Vulnerable • Bone Spear pierces through lines of enemies • Corpse Tendrils groups enemies for maximum piercing • Perfect ranged complement to Druid's close combat"
                    }
                },
                army: {
                    skills: [
                        { level: 1, skill: "Decompose", points: "1/5" },
                        { level: 2, skill: "Decompose", points: "2/5" },
                        { level: 3, skill: "Decompose", points: "3/5" },
                        { level: 4, skill: "Raise Skeleton", points: "1/1" },
                        { level: 5, skill: "Enhanced Raise Skeleton", points: "1/1" },
                        { level: 6, skill: "Decompose", points: "4/5" },
                        { level: 7, skill: "Decompose", points: "5/5" },
                        { level: 8, skill: "Enhanced Decompose", points: "1/1" },
                        { level: 9, skill: "Skeletal Mage", points: "1/1" },
                        { level: 10, skill: "Enhanced Skeletal Mage", points: "1/1" },
                        { level: 11, skill: "Bone Armor", points: "1/1" },
                        { level: 12, skill: "Enhanced Bone Armor", points: "1/1" },
                        { level: 13, skill: "Corpse Tendrils", points: "1/1" },
                        { level: 14, skill: "Enhanced Corpse Tendrils", points: "1/1" },
                        { level: 15, skill: "Bone Prison", points: "1/5" },
                        { level: 16, skill: "Bone Prison", points: "2/5" },
                        { level: 17, skill: "Bone Prison", points: "3/5" },
                        { level: 18, skill: "Bone Prison", points: "4/5" },
                        { level: 19, skill: "Bone Prison", points: "5/5" },
                        { level: 20, skill: "Enhanced Bone Prison", points: "1/1" },
                        { level: 21, skill: "Amplify Damage", points: "1/3" },
                        { level: 22, skill: "Amplify Damage", points: "2/3" },
                        { level: 23, skill: "Amplify Damage", points: "3/3" },
                        { level: 24, skill: "Death's Embrace", points: "1/3" },
                        { level: 25, skill: "Death's Embrace", points: "2/3" },
                        { level: 26, skill: "Death's Embrace", points: "3/3" },
                        { level: 27, skill: "Bone Mastery", points: "1/3" },
                        { level: 28, skill: "Bone Mastery", points: "2/3" },
                        { level: 29, skill: "Bone Mastery", points: "3/3" },
                        { level: 30, skill: "Memento Mori", points: "1/3" },
                        { level: 31, skill: "Army of the Dead", points: "1/1" },
                        { level: 32, skill: "Enhanced Army of the Dead", points: "1/1" },
                        { level: 33, skill: "Supreme Army of the Dead", points: "1/1" },
                        { level: 34, skill: "Memento Mori", points: "2/3" },
                        { level: 35, skill: "Memento Mori", points: "3/3" }
                    ],
                    endgame: "Complete Golem Mastery (3/3) → Kalan's Edict (3/3) → Focus on minion-enhancing aspects and +Minion damage gear for ultimate army supremacy.",
                    info: {
                        synergies: "Decompose creates corpses → Raise Skeleton and Skeletal Mage create permanent minions → Corpse Tendrils and Bone Prison provide crowd control → Army of the Dead summons massive temporary army. Perfect team support build.",
                        gear: {
                            weapon: "Two-handed Scythe • +Minion Damage • +Ranks to Minion Skills • Intelligence • Minion Attack Speed • Minion Life",
                            armor: "Maximum Life • +Ranks to Minion Skills • Minion Damage • Damage Reduction • +Ranks to Army of the Dead • Essence Generation",
                            jewelry: "Minion Damage • Critical Hit Chance • +Ranks to Army of the Dead • Essence Generation • Minion Attack Speed • Maximum Essence"
                        },
                        tips: "Use Decompose to create corpses for minions • Maintain skeleton army at all times • Corpse Tendrils groups enemies for minions • Bone Prison creates safe zones • Army of the Dead for major encounters • Perfect support for any Druid build • Minions tank while you and Druid deal damage"
                    }
                },
                corpseexplosion: {
                    skills: [
                        { level: 1, skill: "Decompose", points: "1/5" },
                        { level: 2, skill: "Decompose", points: "2/5" },
                        { level: 3, skill: "Decompose", points: "3/5" },
                        { level: 4, skill: "Corpse Explosion", points: "1/5" },
                        { level: 5, skill: "Corpse Explosion", points: "2/5" },
                        { level: 6, skill: "Decompose", points: "4/5" },
                        { level: 7, skill: "Decompose", points: "5/5" },
                        { level: 8, skill: "Enhanced Decompose", points: "1/1" },
                        { level: 9, skill: "Corpse Explosion", points: "3/5" },
                        { level: 10, skill: "Corpse Explosion", points: "4/5" },
                        { level: 11, skill: "Corpse Explosion", points: "5/5" },
                        { level: 12, skill: "Enhanced Corpse Explosion", points: "1/1" },
                        { level: 13, skill: "Plagued Corpse Explosion", points: "1/1" },
                        { level: 14, skill: "Bone Armor", points: "1/1" },
                        { level: 15, skill: "Enhanced Bone Armor", points: "1/1" },
                        { level: 16, skill: "Corpse Tendrils", points: "1/1" },
                        { level: 17, skill: "Enhanced Corpse Tendrils", points: "1/1" },
                        { level: 18, skill: "Decrepify", points: "1/5" },
                        { level: 19, skill: "Decrepify", points: "2/5" },
                        { level: 20, skill: "Decrepify", points: "3/5" },
                        { level: 21, skill: "Enhanced Decrepify", points: "1/1" },
                        { level: 22, skill: "Iron Maiden", points: "1/5" },
                        { level: 23, skill: "Iron Maiden", points: "2/5" },
                        { level: 24, skill: "Grim Harvest", points: "1/3" },
                        { level: 25, skill: "Grim Harvest", points: "2/3" },
                        { level: 26, skill: "Grim Harvest", points: "3/3" },
                        { level: 27, skill: "Fueled by Death", points: "1/3" },
                        { level: 28, skill: "Fueled by Death", points: "2/3" },
                        { level: 29, skill: "Fueled by Death", points: "3/3" },
                        { level: 30, skill: "Death's Approach", points: "1/3" },
                        { level: 31, skill: "Bone Storm", points: "1/1" },
                        { level: 32, skill: "Enhanced Bone Storm", points: "1/1" },
                        { level: 33, skill: "Supreme Bone Storm", points: "1/1" },
                        { level: 34, skill: "Death's Approach", points: "2/3" },
                        { level: 35, skill: "Death's Approach", points: "3/3" }
                    ],
                    endgame: "Complete Corpse Mastery (3/3) → Cull the Weak (3/3) → Focus on chain reaction aspects and corpse generation for devastating area damage chains.",
                    info: {
                        synergies: "Decompose creates corpses → Corpse Explosion chains damage that creates more corpses → Corpse Tendrils groups enemies for maximum explosion coverage → Decrepify and Iron Maiden amplify damage → Bone Storm ultimate area devastation.",
                        gear: {
                            weapon: "Two-handed Scythe • +Damage to Corpse Explosion • Corpse Skills • Intelligence • Area Damage • Lucky Hit Chance",
                            armor: "Maximum Life • +Ranks to Corpse Skills • Area Damage • Damage Reduction • +Ranks to Corpse Explosion • Corpse Generation",
                            jewelry: "Critical Hit Chance • Area Damage • Lucky Hit Chance • Essence Generation • Vulnerable Damage • Critical Hit Damage"
                        },
                        tips: "Use Decompose to create initial corpses → Corpse Tendrils to group enemies → Corpse Explosion for massive chain reactions → Decrepify to amplify damage and reduce enemy damage • Iron Maiden for thorns damage • Perfect for clearing large groups while Druid handles single targets"
                    }
                },
                boneprison: {
                    skills: [
                        { level: 1, skill: "Bone Splinters", points: "1/5" },
                        { level: 2, skill: "Bone Splinters", points: "2/5" },
                        { level: 3, skill: "Bone Splinters", points: "3/5" },
                        { level: 4, skill: "Bone Prison", points: "1/5" },
                        { level: 5, skill: "Bone Prison", points: "2/5" },
                        { level: 6, skill: "Bone Splinters", points: "4/5" },
                        { level: 7, skill: "Bone Splinters", points: "5/5" },
                        { level: 8, skill: "Enhanced Bone Splinters", points: "1/1" },
                        { level: 9, skill: "Bone Prison", points: "3/5" },
                        { level: 10, skill: "Bone Prison", points: "4/5" },
                        { level: 11, skill: "Bone Prison", points: "5/5" },
                        { level: 12, skill: "Enhanced Bone Prison", points: "1/1" },
                        { level: 13, skill: "Supernatural Bone Prison", points: "1/1" },
                        { level: 14, skill: "Bone Armor", points: "1/1" },
                        { level: 15, skill: "Enhanced Bone Armor", points: "1/1" },
                        { level: 16, skill: "Corpse Tendrils", points: "1/1" },
                        { level: 17, skill: "Enhanced Corpse Tendrils", points: "1/1" },
                        { level: 18, skill: "Decrepify", points: "1/5" },
                        { level: 19, skill: "Decrepify", points: "2/5" },
                        { level: 20, skill: "Decrepify", points: "3/5" },
                        { level: 21, skill: "Enhanced Decrepify", points: "1/1" },
                        { level: 22, skill: "Iron Maiden", points: "1/5" },
                        { level: 23, skill: "Iron Maiden", points: "2/5" },
                        { level: 24, skill: "Serration", points: "1/3" },
                        { level: 25, skill: "Serration", points: "2/3" },
                        { level: 26, skill: "Serration", points: "3/3" },
                        { level: 27, skill: "Compound Fracture", points: "1/3" },
                        { level: 28, skill: "Compound Fracture", points: "2/3" },
                        { level: 29, skill: "Compound Fracture", points: "3/3" },
                        { level: 30, skill: "Bone Mastery", points: "1/3" },
                        { level: 31, skill: "Bone Storm", points: "1/1" },
                        { level: 32, skill: "Enhanced Bone Storm", points: "1/1" },
                        { level: 33, skill: "Supreme Bone Storm", points: "1/1" },
                        { level: 34, skill: "Bone Mastery", points: "2/3" },
                        { level: 35, skill: "Bone Mastery", points: "3/3" }
                    ],
                    endgame: "Complete Necrotic Carapace (3/3) → Amplify Damage (3/3) → Focus on crowd control duration and bone skill enhancement for ultimate battlefield control mastery.",
                    info: {
                        synergies: "Bone Splinters generate Essence → Bone Prison traps and makes Vulnerable → Corpse Tendrils groups enemies into Prison → Decrepify slows and weakens → Iron Maiden reflects damage → Ultimate crowd control synergy with complex timing requirements.",
                        gear: {
                            weapon: "Wand + Focus • +Damage to Bone Prison • Bone Skills • Intelligence • Crowd Control Duration • Vulnerable Damage",
                            armor: "Maximum Life • +Ranks to Bone Skills • Crowd Control Duration • Damage Reduction • +Ranks to Bone Prison • Essence Generation",
                            jewelry: "Critical Hit Chance • Crowd Control Duration • Vulnerable Damage • Essence Generation • Lucky Hit Chance • Critical Hit Damage"
                        },
                        tips: "Master of battlefield control and timing • Use Bone Prison to trap priority targets • Corpse Tendrils to group enemies into Prison range • Decrepify to slow and weaken • Iron Maiden for damage reflection • Requires excellent positioning and timing • Perfect support for coordinated team play with Druid"
                    }
                }
            }
        };

        let currentClass = 'druid';
        let selectedBuild = 'landslide';

        // Build selection handlers
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize trivia rotation
            initTrivia();
            
            // Set up build selection
            setupBuildSelection();
            
            // Set up input handlers
            document.getElementById('druidLevel').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    showDruidSkills();
                }
            });
            document.getElementById('necroLevel').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    showNecroSkills();
                }
            });

            // Set up input change handlers for navigation arrows
            document.getElementById('druidLevel').addEventListener('input', function() {
                const level = parseInt(this.value) || 1;
                updateNavigationArrows('druid', level);
            });
            document.getElementById('necroLevel').addEventListener('input', function() {
                const level = parseInt(this.value) || 1;
                updateNavigationArrows('necro', level);
            });
        });

        function setupBuildSelection() {
            // Druid build selection
            const druidBuilds = document.querySelectorAll('#druid .build-option');
            druidBuilds.forEach(build => {
                build.addEventListener('click', function() {
                    druidBuilds.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedBuild = this.dataset.build;
                });
            });

            // Necromancer build selection
            const necroBuilds = document.querySelectorAll('#necromancer .build-option');
            necroBuilds.forEach(build => {
                build.addEventListener('click', function() {
                    necroBuilds.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedBuild = this.dataset.build;
                });
            });
        }

        function showDruidSkills() {
            const level = parseInt(document.getElementById('druidLevel').value);
            if (!level || level < 1) {
                alert('Please enter a valid level (1 or higher)');
                return;
            }

            // Update navigation arrows
            updateNavigationArrows('druid', level);

            // Get selected build data
            const buildSkills = buildData.druid[selectedBuild]?.skills || buildData.druid.landslide.skills;
            const buildInfo = buildData.druid[selectedBuild]?.info || buildData.druid.landslide.info;
            const endgameNotes = buildData.druid[selectedBuild]?.endgame || buildData.druid.landslide.endgame;

            displaySkills('druid', level, buildSkills, buildInfo, endgameNotes);
        }

        function showNecroSkills() {
            const level = parseInt(document.getElementById('necroLevel').value);
            if (!level || level < 1) {
                alert('Please enter a valid level (1 or higher)');
                return;
            }

            // Update navigation arrows
            updateNavigationArrows('necro', level);

            // Get selected build data
            const buildSkills = buildData.necromancer[selectedBuild]?.skills || buildData.necromancer.bloodsurge.skills;
            const buildInfo = buildData.necromancer[selectedBuild]?.info || buildData.necromancer.bloodsurge.info;
            const endgameNotes = buildData.necromancer[selectedBuild]?.endgame || buildData.necromancer.bloodsurge.endgame;

            displaySkills('necro', level, buildSkills, buildInfo, endgameNotes);
        }

        function displaySkills(classPrefix, level, skillsData, buildInfo, endgameNotes) {
            const skillsToShow = skillsData.filter(skill => skill.level <= level);
            const skillList = document.getElementById(`${classPrefix}SkillList`);
            const skillDisplay = document.getElementById(`${classPrefix}SkillDisplay`);
            const skillTitle = document.getElementById(`${classPrefix}SkillTitle`);
            const endgameText = document.getElementById(`${classPrefix}EndgameText`);

            skillTitle.textContent = `📋 Level ${level} ${selectedBuild.charAt(0).toUpperCase() + selectedBuild.slice(1)} Build`;
            skillList.innerHTML = '';

            // Group skills by name and show final allocation
            const skillMap = new Map();
            skillsToShow.forEach(skill => {
                skillMap.set(skill.skill, skill.points);
            });

            skillMap.forEach((points, skillName) => {
                const li = document.createElement('li');
                li.innerHTML = `<span class="skill-name">${skillName}</span> <span class="skill-points">${points}</span>`;
                skillList.appendChild(li);
            });

            // Add current level skill recommendation
            const currentLevelSkill = skillsData.find(skill => skill.level === level);
            if (currentLevelSkill) {
                const currentLi = document.createElement('li');
                currentLi.className = 'current-level';
                currentLi.innerHTML = `<span class="skill-name">🎯 Level ${level} - Put point in:</span> <span class="skill-points">${currentLevelSkill.skill}</span>`;
                skillList.appendChild(currentLi);
            }

            // Add next level skill recommendation
            const nextLevelSkill = skillsData.find(skill => skill.level === level + 1);
            if (nextLevelSkill) {
                const nextLi = document.createElement('li');
                nextLi.className = 'next-level';
                nextLi.innerHTML = `<span class="skill-name">⏭️ Level ${level + 1} - Next point:</span> <span class="skill-points">${nextLevelSkill.skill}</span>`;
                skillList.appendChild(nextLi);
            }

            // Update endgame notes
            endgameText.textContent = endgameNotes;

            // Show build info
            displayBuildInfo(classPrefix, buildInfo);

            skillDisplay.classList.add('show');
            
            // Smooth scroll to results
            setTimeout(() => {
                skillDisplay.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }

        function displayBuildInfo(classPrefix, buildInfo) {
            const buildInfoContainer = document.getElementById(`${classPrefix}BuildInfo`);
            
            buildInfoContainer.innerHTML = `
                <div class="synergy-box">
                    <h4>⚡ Skill Synergies</h4>
                    <p>${buildInfo.synergies}</p>
                </div>

                <div class="gear-section">
                    <h4>🛡️ Priority Gear Stats</h4>
                    <div class="gear-grid">
                        <div class="gear-item">
                            <div class="gear-type">Weapon</div>
                            <div class="gear-stats">${buildInfo.gear.weapon.replace(/•/g, '<br>•')}</div>
                        </div>
                        <div class="gear-item">
                            <div class="gear-type">Armor</div>
                            <div class="gear-stats">${buildInfo.gear.armor.replace(/•/g, '<br>•')}</div>
                        </div>
                        <div class="gear-item">
                            <div class="gear-type">Jewelry</div>
                            <div class="gear-stats">${buildInfo.gear.jewelry.replace(/•/g, '<br>•')}</div>
                        </div>
                    </div>
                </div>

                <div class="tips-section">
                    <h4>💡 Tips for This Build</h4>
                    <p>${buildInfo.tips.replace(/•/g, '<br>•')}</p>
                </div>
            `;
        }

        function showClass(className) {
            currentClass = className;
            
            // Reset selected build for new class
            if (className === 'druid') {
                selectedBuild = 'landslide';
                // Reset druid build selection
                document.querySelectorAll('#druid .build-option').forEach(b => b.classList.remove('selected'));
                document.querySelector('#druid .build-option[data-build="landslide"]').classList.add('selected');
            } else {
                selectedBuild = 'bloodsurge';
                // Reset necromancer build selection
                document.querySelectorAll('#necromancer .build-option').forEach(b => b.classList.remove('selected'));
                document.querySelector('#necromancer .build-option[data-build="bloodsurge"]').classList.add('selected');
            }

            // Hide all class content
            const allContent = document.querySelectorAll('.class-content');
            allContent.forEach(content => {
                content.classList.remove('active');
            });

            // Remove active from all buttons
            const allButtons = document.querySelectorAll('.tab-button');
            allButtons.forEach(button => {
                button.classList.remove('active');
            });

            // Show selected class content
            document.getElementById(className).classList.add('active');
            
            // Add active to clicked button
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
